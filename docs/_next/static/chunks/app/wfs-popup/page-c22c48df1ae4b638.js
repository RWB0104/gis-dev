(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[326],{90282:function(e,t,n){Promise.resolve().then(n.bind(n,98567)),Promise.resolve().then(n.bind(n,42352)),Promise.resolve().then(n.bind(n,53646)),Promise.resolve().then(n.t.bind(n,62372,23)),Promise.resolve().then(n.bind(n,30310)),Promise.resolve().then(n.bind(n,36280)),Promise.resolve().then(n.bind(n,17282)),Promise.resolve().then(n.bind(n,23374)),Promise.resolve().then(n.bind(n,97503)),Promise.resolve().then(n.bind(n,12159))},75890:function(e,t,n){"use strict";var i=n(13767);t.Z=void 0;var o=i(n(41032)),s=n(39926),r=(0,o.default)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=r},56028:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var i=n(39926),o=n(75890),s=n(43160),r=n(598),l=n(52937),a=n(41299),d=n(4057),u=n(54839),h=n(99271),c=n.n(h),g=n(87103),f=n(97172),p=n.n(f);let m=c().bind(p());var P=function(e){let{id:t,header:n="-",thumb:h,list:c,onClose:f,onThumbClick:p,...P}=e;return(0,i.jsx)(a.Z,{"data-component":"MapPopup",id:t,...P,children:(0,i.jsxs)(d.Z,{gap:1,maxWidth:250,padding:2,children:[(0,i.jsxs)(d.Z,{alignItems:"center",direction:"row",gap:1,justifyContent:"space-between",children:[(0,i.jsx)(u.Z,{color:"primary",fontWeight:"bold",children:n}),f?(0,i.jsx)(l.Z,{size:"small",onClick:f,children:(0,i.jsx)(o.Z,{fontSize:"inherit"})}):null]}),h?(0,i.jsx)(s.Z,{border:"1px solid",borderColor:"ActiveBorder",borderRadius:2,overflow:"hidden",paddingTop:"100%",position:"relative",children:(0,i.jsx)(s.Z,{height:"100%",left:0,position:"absolute",top:0,width:"100%",children:(0,i.jsx)(r.Z,{className:m("button"),onClick:p,children:(0,i.jsx)("img",{alt:h,className:m("image"),height:"100%",src:h,width:"100%"})})})}):null,c?(0,i.jsx)(d.Z,{gap:1,children:c.map((e,t)=>{let{key:n,value:o,link:s,color:r}=e;return(0,i.jsxs)(d.Z,{direction:"row",gap:1,children:[(0,i.jsx)(d.Z,{width:70,children:(0,i.jsx)(u.Z,{fontWeight:"bold",variant:"caption",children:n})}),(0,i.jsx)(d.Z,{flex:1,children:s?(0,i.jsx)(u.Z,{color:r,variant:"caption",children:(0,i.jsx)(g.default,{href:s,target:"_blank",children:o})}):(0,i.jsx)(u.Z,{color:r,variant:"caption",children:o})})]},t)})}):null]})})}},30310:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var i=n(39926),o=n(98594),s=n(34901),r=n(54636),l=n(50878),a=n(54839),d=n(99271),u=n.n(d),h=n(48806),c=n(10496),g=n(39647),f=n.n(g);let p=u().bind(f());function m(){let{map:e}=(0,c.useContext)(s.X),{setModal:t}=(0,r.C)(),[n,d]=(0,c.useState)(!1),u=(0,c.useCallback)(()=>{e&&(d(!0),navigator.geolocation.getCurrentPosition(t=>{let{latitude:n,longitude:i}=t.coords,o=e.getView().getProjection().getCode(),s=e.getView().getZoom()||0,r=(0,h.Z)("EPSG:4326",o,[i,n]);e.getView().animate({center:r,duration:2e3}),e.getView().animate({duration:1e3,zoom:s-3},{duration:1e3,zoom:s},()=>{d(!1)})},()=>{t({body:(0,i.jsx)(a.Z,{variant:"caption",children:"지오로케이션 호출에 실패했습니다."}),title:"지오로케이션 실패",type:"error"}),d(!1)},{enableHighAccuracy:!0}))},[e,d,t]);return(0,i.jsx)(o.Z,{bgcolor:"limegreen","data-component":"GeolocationButton",disabled:n,onClick:u,children:(0,i.jsx)(l.default,{className:p({icon:n}),htmlColor:"white"})})}},36280:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var i=n(39926),o=n(98594),s=n(34901),r=n(23744),l=n(10496);function a(e){let{homePosition:t}=e,{map:n}=(0,l.useContext)(s.X),[a,d]=(0,l.useState)(!1),u=(0,l.useCallback)(()=>{if(n){d(!0);let e=n.getView().getZoom()||0;n.getView().animate({center:t,duration:2e3}),n.getView().animate({duration:1e3,zoom:e-3},{duration:1e3,zoom:e},()=>{d(!1)})}},[t,n,d]);return(0,i.jsx)(o.Z,{bgcolor:"orange",disabled:a,onClick:u,children:(0,i.jsx)(r.Z,{htmlColor:"white"})})}},23374:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var i=n(39926),o=n(39993),s=n(43626),r=n(27731),l=n(92214);function a(e){let{children:t}=e;return(0,i.jsx)(o.Z,{interactions:[s.selects.getWfsHoverSelect("buld_nm"),s.selects.getWfsClickSelect("buld_nm")],layers:[r.wfsLayer.sejongWfsLayer],view:l.t.sejongView,hasCursor:!0,children:t})}},12159:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(39926),o=n(56028),s=n(38033),r=n(34901),l=n(68254),a=n(10496);let d="popup";function u(){let{map:e}=(0,a.useContext)(r.X),[t,n]=(0,a.useState)(),u=(0,a.useCallback)(()=>{n(void 0)},[n]),h=(0,a.useMemo)(()=>{if(t)return[{key:"ID",value:t.getId()||"-"},{key:"고유일련변호",value:t.get("bul_man_no")||"-"},{key:"고시일자",value:(0,s.ce)(t.get("ntfc_de")||"-")}]},[t]);return(0,a.useEffect)(()=>{if(e){let t=new l.Z({autoPan:{animation:{duration:250}},element:document.getElementById(d)||void 0,id:"popup",offset:[0,-20],positioning:"bottom-center"});e.addOverlay(t)}},[e,n]),(0,a.useEffect)(()=>{e&&e.on("singleclick",t=>{e.hasFeatureAtPixel(t.pixel)?e.forEachFeatureAtPixel(t.pixel,e=>{var t;(null===(t=e.getId())||void 0===t?void 0:t.toString().startsWith("buld_sejong"))&&n(e)}):n(void 0)})},[e]),(0,a.useEffect)(()=>{if(e){let n=e.getOverlayById("popup");if(t){let e=t.getGeometry();if(e){let[t,i,o,s]=e.getExtent();null==n||n.setPosition([(o+t)/2,(s+i)/2])}else null==n||n.setPosition(void 0)}else null==n||n.setPosition(void 0)}},[e,t]),(0,i.jsx)(o.Z,{header:null==t?void 0:t.get("buld_nm"),id:d,list:h,onClose:u})}},43626:function(e,t,n){"use strict";n.d(t,{W:function(){return g},modifys:function(){return p},selects:function(){return c},snaps:function(){return f}});var i=n(27731),o=n(27067),s=n(31697),r=n(42359),l=n(69147),a=n(67656),d=n(34),u=n(49674);let h=new l.ZP({source:i.oH.drawLayer.getSource(),type:"Polygon"}),c={getClusterClickSelect:function(e){return new d.Z({condition:r.V4,filter:e=>1===e.get("features").length,style:t=>(0,s.pl)(t,e)})},getClusterHoverSelect:function(e){return new d.Z({condition:r.MJ,filter:e=>1===e.get("features").length,style:t=>(0,s.hV)(t,e)})},getWfsClickSelect:function(e){let t=new d.Z({condition:r.V4,filter:e=>void 0!==e.getId(),style:t=>(0,s.o3)(t,e)});return t.set("name","clickSelect"),t},getWfsHoverSelect:function(e){let t=new d.Z({condition:r.MJ,filter:e=>void 0!==e.getId(),style:t=>(0,s.Ki)(t,e)});return t.set("name","hoverSelect"),t}},g={drawInteraction:h},f={getWfsSnap:function(e){let t=new u.Z({features:e,source:o.Vr.transactionSource});return t.set("name","snap"),t}},p={getWfsModify:function(e){let t=new a.Z({features:e,source:o.Vr.transactionSource});return t.set("name","modify"),t}}},97172:function(e){e.exports={button:"BasicPopup_button__JkJDn",image:"BasicPopup_image__FGnso"}},39647:function(e){e.exports={icon:"GeolocationButton_icon__O2WtR",rolling:"GeolocationButton_rolling__mgNSn"}},68254:function(e,t,n){"use strict";var i=n(29390),o=n(77129),s=n(70790),r=n(75682),l=n(29342),a=n(93107);let d={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class u extends i.Z{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+s.$A,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===e.autoPan?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(d.ELEMENT,this.handleElementChanged),this.addChangeListener(d.MAP,this.handleMapChanged),this.addChangeListener(d.OFFSET,this.handleOffsetChanged),this.addChangeListener(d.POSITION,this.handlePositionChanged),this.addChangeListener(d.POSITIONING,this.handlePositioningChanged),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),void 0!==e.position&&this.setPosition(e.position)}getElement(){return this.get(d.ELEMENT)}getId(){return this.id}getMap(){return this.get(d.MAP)||null}getOffset(){return this.get(d.OFFSET)}getPosition(){return this.get(d.POSITION)}getPositioning(){return this.get(d.POSITIONING)}handleElementChanged(){(0,a.ep)(this.element);let e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&((0,a.ZF)(this.element),(0,l.bN)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);let e=this.getMap();if(e){this.mapPostrenderListenerKey=(0,l.oL)(e,o.Z.POSTRENDER,this.render,this),this.updatePixelPosition();let t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(d.ELEMENT,e)}setMap(e){this.set(d.MAP,e)}setOffset(e){this.set(d.OFFSET,e)}setPosition(e){this.set(d.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){let t=this.getMap();if(!t||!t.getTargetElement()||!this.get(d.POSITION))return;let n=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),o=this.getRect(i,[(0,a.iO)(i),(0,a.Pb)(i)]),s=void 0===(e=e||{}).margin?20:e.margin;if(!(0,r.r4)(n,o)){let i=o[0]-n[0],r=n[2]-o[2],l=o[1]-n[1],a=n[3]-o[3],d=[0,0];if(i<0?d[0]=i-s:r<0&&(d[0]=Math.abs(r)+s),l<0?d[1]=l-s:a<0&&(d[1]=Math.abs(a)+s),0!==d[0]||0!==d[1]){let n=t.getView().getCenterInternal(),i=t.getPixelFromCoordinateInternal(n);if(!i)return;let o=[i[0]+d[0],i[1]+d[1]],s=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(o),duration:s.duration,easing:s.easing})}}}getRect(e,t){let n=e.getBoundingClientRect(),i=n.left+window.pageXOffset,o=n.top+window.pageYOffset;return[i,o,i+t[0],o+t[1]]}setPositioning(e){this.set(d.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){let e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}let n=e.getPixelFromCoordinate(t),i=e.getSize();this.updateRenderedPosition(n,i)}updateRenderedPosition(e,t){let n=this.element.style,i=this.getOffset(),o=this.getPositioning();this.setVisible(!0);let s=Math.round(e[0]+i[0])+"px",r=Math.round(e[1]+i[1])+"px",l="0%",a="0%";"bottom-right"==o||"center-right"==o||"top-right"==o?l="-100%":("bottom-center"==o||"center-center"==o||"top-center"==o)&&(l="-50%"),"bottom-left"==o||"bottom-center"==o||"bottom-right"==o?a="-100%":("center-left"==o||"center-center"==o||"center-right"==o)&&(a="-50%");let d=`translate(${l}, ${a}) translate(${s}, ${r})`;this.rendered.transform_!=d&&(this.rendered.transform_=d,n.transform=d)}getOptions(){return this.options}}t.Z=u}},function(e){e.O(0,[322,880,864,27,77,333,116,503,991,399,744],function(){return e(e.s=90282)}),_N_E=e.O()}]);